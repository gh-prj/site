"use strict";(self.webpackChunkgh_react_site=self.webpackChunkgh_react_site||[]).push([[7515],{7515:function(e,n,t){t.r(n);var r,o=t(5861),c=t(885),s=t(7757),a=t.n(s),u=t(2791),i=t(184);!function(e){e.Female="female",e.Male="male",e.NA="n/a"}(r||(r={}));var h={light:{color:"#000",background:"#eee"},dark:{color:"#fff",background:"#222"}},l=(0,u.createContext)({theme:h.dark,toggle:function(){}}),d=function(e){var n=e.children,t=(0,u.useState)("dark"),r=(0,c.Z)(t,2),o=r[0],s=r[1],a=(0,u.useCallback)((function(){s("dark"===o?"light":"dark")}),[o]),d=(0,u.useCallback)((function(e){s(e)}),[]),m=(0,u.useMemo)((function(){return h[o]}),[o]);return(0,i.jsx)(l.Provider,{value:{toggle:a,setTheme:d,theme:m},children:n})};function m(){return m=(0,o.Z)(a().mark((function e(){var n,t=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:1,e.next=3,fetch("https://swapi.dev/api/people/".concat(n)).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}var f=function(){var e=(0,u.useContext)(l),n=e.theme,t=e.toggle;return(0,i.jsx)("button",{style:{color:n.color,background:n.background},onClick:t,children:n===h.dark?"Light":"Dark"})};n.default=function(){var e=(0,u.useState)(null),n=(0,c.Z)(e,2),t=n[0],r=n[1];return(0,u.useEffect)((function(){(function(){return m.apply(this,arguments)})().then((function(e){r(e)}))}),[]),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[null===t||void 0===t?void 0:t.name," - ",null===t||void 0===t?void 0:t.gender," - ",null===t||void 0===t?void 0:t.birth_year,(0,i.jsx)("pre",{children:(0,i.jsx)("code",{children:'import React, { useEffect, useState } from \'react\';\n\ninterface Person {\n    name: string;\n    birth_year: string;\n    gender: Gender;\n}\n\nenum Gender {\n    Female = "female",\n    Male = "male",\n    NA = "n/a",\n}\n\nasync function getPerson(id = 1): Promise<Person> {\n    return await fetch('.concat("`","https://swapi.dev/api/people/","$","{id}","`",")\n        .then(response => response.json())\n}\n\nconst App = () => {\n    const [person, setPerson] = useState<Person | null>(null);\n    useEffect(() => {\n        getPerson().then(person => { setPerson(person) })\n    }, []);\n    return (\n        <div>\n            {person?.name} - {person?.gender} - {person?.birth_year}\n        </div>\n    );\n}\n")})})]}),(0,i.jsx)(d,{children:(0,i.jsx)(f,{})}),(0,i.jsx)("pre",{children:(0,i.jsx)("code",{children:"import React, { createContext, useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\ninterface Theme {\n    color: string\n    background: string\n}\n\ntype ConcreteTheme = 'light' | 'dark'\n\nconst themes: Record<ConcreteTheme, Theme> = {\n    light: {\n        color: \"#000\",\n        background: \"#eee\"\n    },\n    dark: {\n        color: \"#fff\",\n        background: \"#222\"\n    }\n}\n\nconst ThemeContext = createContext<{\n    theme: Theme,\n    toggle: () => void,\n    setTheme?: (t: ConcreteTheme) => void\n}>(\n    {\n        theme: themes.dark,\n        toggle: () => {\n            //\n        }\n    }\n)\n\nconst ThemeProvider = ({ children }: { children: React.ReactNode }) => {\n    const [currentTheme, setCurrentTheme] = useState<ConcreteTheme>('dark');\n    const toggle = useCallback<() => void>(() => {\n        setCurrentTheme(currentTheme === 'dark' ? 'light' : 'dark')\n    }, [currentTheme]);\n    const setTheme = useCallback<(theme: ConcreteTheme) => void>(\n        (theme) => { setCurrentTheme(theme) }, []\n    )\n    const memoizedTheme = useMemo(() => {\n        return themes[currentTheme]\n    }, [currentTheme])\n    return (\n        <ThemeContext.Provider value={{\n            toggle,\n            setTheme,\n            theme: memoizedTheme\n        }}>\n            {children}\n        </ThemeContext.Provider>\n    )\n}\n\nconst ThemesExample: React.FC = () => {\n    const {theme, toggle} = useContext(ThemeContext);\n    return (\n        <button\n            style={{\n                color: theme.color,\n                background: theme.background\n            }}\n            onClick={toggle}\n        >\n            {theme === themes.dark ? 'Light' : 'Dark'}\n        </button>\n    )\n}\n\nconst App = () => {\n    return (\n        <ThemeProvider>\n            <ThemesExample />\n        </ThemeProvider>\n    );\n}\n"})})]})}},5861:function(e,n,t){function r(e,n,t,r,o,c,s){try{var a=e[c](s),u=a.value}catch(i){return void t(i)}a.done?n(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(o,c){var s=e.apply(n,t);function a(e){r(s,o,c,a,u,"next",e)}function u(e){r(s,o,c,a,u,"throw",e)}a(void 0)}))}}t.d(n,{Z:function(){return o}})}}]);
//# sourceMappingURL=7515.e502568e.chunk.js.map